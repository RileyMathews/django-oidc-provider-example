import jwt
from jwt import PyJWKClient
token = "eyJ0eXAiOiAiSldUIiwgImFsZyI6ICJSUzI1NiIsICJraWQiOiAiYk51cElHRXBySFpFU0ZESC1GZDBnQjJWeXpaV0FoZ2NteFpQYkxVZVA3ayJ9.eyJhdWQiOiAiRzNid1FwRWYzTDFKdzJ3eWFHYjhVUW04YVRra01FbHBJVVZPanVINCIsICJpYXQiOiAxNjk1NjA1NTMxLCAiYXRfaGFzaCI6ICJXOWxwWjg0dEVlN2NZRzJkSXNmMFR3IiwgInN1YiI6ICIxIiwgImlzcyI6ICJodHRwOi8vMC4wLjAuMDo4MDAwL28iLCAiZXhwIjogMTY5NTY0MTUzMSwgImF1dGhfdGltZSI6IDE2OTU2MDU1MjcsICJqdGkiOiAiZDFjMWUyMWUtMjZiMS00YzZkLWFmN2UtODk4ZThiMjY5M2IxIn0.Etu1sEaxY_JgWCMWoS_wW7_GrDbtEwhCGZVCho_p_MKuJqOPYXqlqgyPFYOk6tgO82DBMTqEZq9PeaDEM0KiyR4Me7FX700cDTdEHVmzBredLeznvSZ2lHARJJHtAbxdN7EJGz-mLAvDO_3JHrHewi6CDsj18Xzrwx_RHs7BKMghlbsL7TCPVmoq6KLQddvCi1nxCe9Ne6gcFs57SBImm_vWkZYLjgSelJn-08AyehDZirAMSq7Rc1FBczI5okn2TCj7bt55-_N-vvjaY3DB1TnlN40pOfntqtM0cqUjLhJEMAzd2POgFAR1yqdtZhmMXI_pSTtZC8v75c817LdyDB0TF6TJacfHWnT6NA_Mg92j6LroZhj-ZNPiMt9RtzdsMigElt9kkjO5TVHkQCVLzrjAx7y25_2WFSyKQiKm3xPt-Ge4r8XDI3ULyzQjBVsx2YDsWvKOmJTQ3dmcZInKM6p3jibqIa5MlcqwDxLJdFKUA_0aL7jL5HCtOArIFjcS-SsNujslMqadEqXm2-gkhRcbvtS_20YbF-aOXEIxWhJ4SCS-RQ4_6kau4AuucX2z6RaJguEtVjQBktltI3mm1xqoXftjRZ3B5jfdajUX7laes0sq320dZQu8QogiriMUmXBbbTEgJLK1LziESqDOZ9dPtT-PAYDnpRc3S-fXXkg"
key_id = "bNupIGEprHZESFDH-Fd0gB2VyzZWAhgcmxZPbLUeP7k"

url = "http://0.0.0.0:8000/o/.well-known/jwks.json"

jwks_client = PyJWKClient(url)
signing_key = jwks_client.get_signing_key_from_jwt(token)

print(signing_key)

data = jwt.decode(token, signing_key.key, algorithms=['RS256'], audience="G3bwQpEf3L1Jw2wyaGb8UQm8aTkkMElpIUVOjuH4")
print(data)
